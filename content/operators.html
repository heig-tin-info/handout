<!DOCTYPE html>
<html  lang="fr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <style type="text/css">
        p.rubric {
            font-weight: bold;
        }

        p.rubric:hover > a.headerlink {
            visibility: visible;
        }
    </style>
    
      <title>5 Opérateurs</title>
    
      <link rel="stylesheet" href="../_static/pygments.css">
      <link rel="stylesheet" href="../_static/theme.css">
      
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>

      <!-- sphinx script_files -->
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script src="../_static/translations.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>

      
      <script src="../_static/theme-vendors.js"></script>
      <script src="../_static/theme.js" defer></script>
    
    <link rel="icon" href="../_static/favicon.ico" type="image/x-icon" />
  <link rel="index" title="Index" href="../genindex.html" />
  <link rel="search" title="Recherche" href="../search.html" />
  <link rel="next" title="6 Types de données" href="datatype.html" />
  <link rel="prev" title="4 Numération" href="numeration.html" /> 
  </head>

  <body>
    <div id="app" class="theme-container" :class="pageClasses"><navbar @toggle-sidebar="toggleSidebar">
  <router-link to="../index.html" class="home-link">
    
      <span class="site-name">Le C pour l&#39;ingenieur</span>
    
  </router-link>

  <div class="links">
    <navlinks class="can-hide">

  
    <div class="nav-item">
      <a href="../index.html#le-c-pour-l-ingenieur"
         class="nav-link  router-link-active">
         Table des matières
      </a>
    </div>
  
    <div class="nav-item">
      <a href="../index.html#le-c-pour-l-ingenieur"
         class="nav-link ">
         Annexes
      </a>
    </div>
  
    <div class="nav-item">
      <a href="../index.html#le-c-pour-l-ingenieur"
         class="nav-link ">
         Références
      </a>
    </div>
  



    </navlinks>
  </div>
</navbar>

      
      <div class="sidebar-mask" @click="toggleSidebar(false)">
      </div>
        <sidebar @toggle-sidebar="toggleSidebar">
          
          <navlinks>
            

  
    <div class="nav-item">
      <a href="../index.html#le-c-pour-l-ingenieur"
         class="nav-link  router-link-active">
         Table des matières
      </a>
    </div>
  
    <div class="nav-item">
      <a href="../index.html#le-c-pour-l-ingenieur"
         class="nav-link ">
         Annexes
      </a>
    </div>
  
    <div class="nav-item">
      <a href="../index.html#le-c-pour-l-ingenieur"
         class="nav-link ">
         Références
      </a>
    </div>
  



            
          </navlinks><div id="searchbox" class="searchbox" role="search">
  <div class="caption"><span class="caption-text">Recherche rapide</span>
    <div class="searchformwrapper">
      <form class="search" action="../search.html" method="get">
        <input type="text" name="q" />
        <input type="submit" value="Recherche" />
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
      </form>
    </div>
  </div>
</div><div class="sidebar-links" role="navigation" aria-label="main navigation">
  
    <div class="sidebar-group">
      <p class="caption">
        <span class="caption-text"><a href="../index.html#le-c-pour-l-ingenieur">Table des matières</a></span>
      </p>
      <ul class="current">
        
          <li class="toctree-l1 "><a href="introduction.html" class="reference internal ">Introduction</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="programming.html" class="reference internal ">La programmation</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="foundations.html" class="reference internal ">Généralités du langage</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="numeration.html" class="reference internal ">Numération</a>

            
          </li>

        
          <li class="toctree-l1 current"><a href="#" class="reference internal current">Opérateurs</a>

            
              <ul>
                
                  <li class="toctree-l2"><a href="#operateurs-relationnels" class="reference internal">Opérateurs relationnels</a></li>
                
                  <li class="toctree-l2"><a href="#operateurs-arithmetiques" class="reference internal">Opérateurs arithmétiques</a></li>
                
                  <li class="toctree-l2"><a href="#operateurs-bit-a-bit" class="reference internal">Opérateurs bit à bit</a></li>
                
                  <li class="toctree-l2"><a href="#operateurs-d-affectation" class="reference internal">Opérateurs d'affectation</a></li>
                
                  <li class="toctree-l2"><a href="#operateurs-logiques" class="reference internal">Opérateurs logiques</a></li>
                
                  <li class="toctree-l2"><a href="#operateurs-d-incrementation" class="reference internal">Opérateurs d'incrémentation</a></li>
                
                  <li class="toctree-l2"><a href="#operateur-ternaire" class="reference internal">Opérateur ternaire</a></li>
                
                  <li class="toctree-l2"><a href="#operateur-de-transtypage" class="reference internal">Opérateur de transtypage</a></li>
                
                  <li class="toctree-l2"><a href="#operateur-sequentiel" class="reference internal">Opérateur séquentiel</a></li>
                
                  <li class="toctree-l2"><a href="#operateur-sizeof" class="reference internal">Opérateur sizeof</a></li>
                
                  <li class="toctree-l2"><a href="#priorite-des-operateurs" class="reference internal">Priorité des opérateurs</a></li>
                
                  <li class="toctree-l2"><a href="#valeurs-gauches" class="reference internal">Valeurs gauches</a></li>
                
                  <li class="toctree-l2"><a href="#optimisation" class="reference internal">Optimisation</a></li>
                
              </ul>
            
          </li>

        
          <li class="toctree-l1 "><a href="datatype.html" class="reference internal ">Types de données</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="control-structures.html" class="reference internal ">Structures de contrôle</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="processus.html" class="reference internal ">Programmes et Processus</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="stdio.html" class="reference internal ">Entrées Sorties</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="functions.html" class="reference internal ">Fonctions</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="composite-datatypes.html" class="reference internal ">Types composites</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="files.html" class="reference internal ">Les  fichiers</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="memory-management.html" class="reference internal ">Gestion de la mémoire</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="pointers.html" class="reference internal ">Pointeurs</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="standard-library.html" class="reference internal ">Bibliothèques</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="preprocessor.html" class="reference internal ">Préprocesseur</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="algorithms.html" class="reference internal ">Algorithmes et conception</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="translation-units.html" class="reference internal ">Compilation séparée</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="scopes.html" class="reference internal ">Portée et visibilité</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="testing.html" class="reference internal ">Qualité et Testabilité</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="data-structures.html" class="reference internal ">Structures de données</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="advanced-topics.html" class="reference internal ">Avancé</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="traps.html" class="reference internal ">Pièges</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="philosophy.html" class="reference internal ">Philosophie</a>

            
          </li>

        
      </ul>
    </div>
  
    <div class="sidebar-group">
      <p class="caption">
        <span class="caption-text"><a href="../index.html#le-c-pour-l-ingenieur">Annexes</a></span>
      </p>
      <ul class="">
        
          <li class="toctree-l1 "><a href="../appendix/vscode.html" class="reference internal ">Visual Studio Code</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="../appendix/grammar.html" class="reference internal ">Grammaire C</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="../appendix/bash.html" class="reference internal ">Ligne de commande</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="../appendix/development.html" class="reference internal ">Environnement de développement</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="../appendix/unit.html" class="reference internal ">Fiches d'unités de cours</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="../appendix/laboratories.html" class="reference internal ">Laboratoires</a>

            
          </li>

        
      </ul>
    </div>
  
    <div class="sidebar-group">
      <p class="caption">
        <span class="caption-text"><a href="../index.html#le-c-pour-l-ingenieur">Références</a></span>
      </p>
      <ul class="">
        
          <li class="toctree-l1 "><a href="../backmatter/exercises.html" class="reference internal ">Solution des exercices</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="../backmatter/bibliography.html" class="reference internal ">Bibliographie</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="../backmatter/glossary.html" class="reference internal ">Glossaire</a>

            
          </li>

        
      </ul>
    </div>
  
</div>
        </sidebar>

      <page>
          <div class="body-header" role="navigation" aria-label="navigation">
  
  <ul class="breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
    
    <li><span class="section-number">5  </span>Opérateurs</li>
  </ul>
  

  <ul class="page-nav">
  <li class="prev">
    <a href="numeration.html"
       title="Chapitre précédent">← <span class="section-number">4  </span>Numération</a>
  </li>
  <li class="next">
    <a href="datatype.html"
       title="Chapitre suivant"><span class="section-number">6  </span>Types de données →</a>
  </li>
</ul>
  
</div>
<hr>
          <div class="content" role="main">
            
  <div class="section" id="operateurs">
<h1><span class="section-number">5  </span>Opérateurs<a class="headerlink" href="#operateurs" title="Lien permanent vers ce titre">¶</a></h1>
<span class="target" id="index-0"></span><span class="target" id="index-1"></span><p id="index-2">Le langage C est composé d'une multitude d'opérateurs permettant de modifier les valeurs de variables en mémoire. Un <span class="target" id="index-3"></span>opérateur prend habituellement deux opérandes et retourne un résultat. On dit alors que ces opérateurs ont une <a class="reference external" href="https://fr.wikipedia.org/wiki/Arit%C3%A9">arité</a> de 2. Il existe également des opérateurs à arité de 1 dit <a class="reference external" href="https://fr.wikipedia.org/wiki/Op%C3%A9ration_unaire">unaire</a> comme l'opposé d'un nombre réel : <span class="math notranslate nohighlight">\(-x\)</span>.</p>
<p id="index-4">Dans un ordinateur c'est l'unité de calcul arithmétique <a class="reference external" href="https://fr.wikipedia.org/wiki/Unit%C3%A9_arithm%C3%A9tique_et_logique">ALU</a> qui est en charge d'effectuer les opérations fondamentales. Un ordinateur à 2 GHz pourrait effectuer plus de 2'000'000'000 opérations par seconde. Cette unité de calcul est consensuellement représentée comme illustré à la figure <a class="reference internal" href="#ual"><span class="std std-numref">Fig. 5.1</span></a>.</p>
<div class="figure align-default" id="id1">
<span id="ual"></span><img alt="ALU" src="../_images/alu.svg" /><p class="caption"><span class="caption-number">Fig. 5.1 </span><span class="caption-text">Unité de calcul arithmétique (<span class="target" id="index-5"></span>ALU) composée de deux entrées <code class="docutils literal notranslate"><span class="pre">A</span></code> et <code class="docutils literal notranslate"><span class="pre">B</span></code>, d'une sortie <code class="docutils literal notranslate"><span class="pre">C</span></code> et d'un mode opératoire <code class="docutils literal notranslate"><span class="pre">O</span></code>.</span><a class="headerlink" href="#id1" title="Lien permanent vers cette image">¶</a></p>
</div>
<p>En admettant que l'opération est l'addition, le code C équivalent serait le suivant :</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">c</span> <span class="o">=</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">;</span>
</pre></div>
</div>
<p>Notons qu'un opérateur possède plusieurs propriétés :</p>
<dl class="simple">
<dt>Une <span class="target" id="index-6"></span>priorité</dt><dd><p>La multiplication <code class="docutils literal notranslate"><span class="pre">*</span></code> est plus prioritaire que l'addition <code class="docutils literal notranslate"><span class="pre">+</span></code></p>
</dd>
<dt>Une <span class="target" id="index-7"></span>associativité</dt><dd><p>L'opérateur d'affectation <code class="docutils literal notranslate"><span class="pre">=</span></code> possède une associativité à droite, c'est-à-dire que l'opérande à droite de l'opérateur sera évalué en premier</p>
</dd>
<dt>Un <span class="target" id="index-8"></span>point de séquence</dt><dd><p>Certains opérateurs comme <code class="docutils literal notranslate"><span class="pre">&amp;&amp;</span></code>, <code class="docutils literal notranslate"><span class="pre">||</span></code>, <code class="docutils literal notranslate"><span class="pre">?</span></code> ou <code class="docutils literal notranslate"><span class="pre">,</span></code> possèdent un point de séquence garantissant que l'exécution séquentielle du programme sera respectée avant et après ce point. Par exemple si dans l'expression <code class="docutils literal notranslate"><span class="pre">i</span> <span class="pre">&lt;</span> <span class="pre">12</span> <span class="pre">&amp;&amp;</span> <span class="pre">j</span> <span class="pre">&gt;</span> <span class="pre">2</span></code> la valeur de <code class="docutils literal notranslate"><span class="pre">i</span></code> est plus grande que 12, le test <code class="docutils literal notranslate"><span class="pre">j</span> <span class="pre">&gt;</span> <span class="pre">2</span></code> ne sera jamais effectué. L'opérateur <code class="docutils literal notranslate"><span class="pre">&amp;&amp;</span></code> garanti l'ordre des choses ce qui n'est pas le cas avec l'affectation <code class="docutils literal notranslate"><span class="pre">=</span></code>.</p>
</dd>
</dl>
<div class="section" id="operateurs-relationnels">
<h2><span class="section-number">5.1  </span>Opérateurs relationnels<a class="headerlink" href="#operateurs-relationnels" title="Lien permanent vers ce titre">¶</a></h2>
<p id="index-9">Les opérateurs relationnels permettent de comparer deux entités. Le résultat d'un opérateur relationnel est toujours un <strong>boolean</strong> c'est-à-dire que le résultat d'une comparaison est soit <strong>vrai</strong>, soit <strong>faux</strong>.</p>
<table class="docutils align-default" id="id2">
<caption><span class="caption-number">Tableau 5.1 </span><span class="caption-text">Opérateurs relationnels</span><a class="headerlink" href="#id2" title="Lien permanent vers ce tableau">¶</a></caption>
<colgroup>
<col style="width: 19%" />
<col style="width: 44%" />
<col style="width: 38%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Opérateur</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Exemple vrai</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">==</span></code></p></td>
<td><p>Égal</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">42</span> <span class="pre">==</span> <span class="pre">0x101010</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">&gt;=</span></code></p></td>
<td><p>Supérieur ou égal</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">9</span> <span class="pre">&gt;=</span> <span class="pre">9</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">&lt;=</span></code></p></td>
<td><p>Inférieur ou égal</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-8</span> <span class="pre">&lt;=</span> <span class="pre">8</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">&gt;</span></code></p></td>
<td><p>Strictement supérieur</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">0x31</span> <span class="pre">&gt;</span> <span class="pre">'0'</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">&lt;</span></code></p></td>
<td><p>Inférieur</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">8</span> <span class="pre">&lt;</span> <span class="pre">12.33</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">!=</span></code></p></td>
<td><p>Différent</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">'a'</span> <span class="pre">!=</span> <span class="pre">'c'</span></code></p></td>
</tr>
</tbody>
</table>
<p>Un opérateur relationnel est plus prioritaire que l'opérateur d'affectation et donc l'écriture suivante applique le test d'égalité entre <code class="docutils literal notranslate"><span class="pre">a</span></code> et <code class="docutils literal notranslate"><span class="pre">b</span></code> et le résultat de ce test <code class="docutils literal notranslate"><span class="pre">1</span></code> ou <code class="docutils literal notranslate"><span class="pre">0</span></code> sera affecté à la variable <code class="docutils literal notranslate"><span class="pre">c</span></code> :</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">c</span> <span class="o">=</span> <span class="n">a</span> <span class="o">==</span> <span class="n">b</span><span class="p">;</span>
</pre></div>
</div>
<p>Les opérateurs relationnels sont le plus souvent utilisés dans des structures de contrôles :</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="n">a</span> <span class="o">==</span> <span class="n">b</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;Les opérandes sont égaux.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;Les opérandes ne sont pas égaux.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Programmer c'est être minimaliste, dès lors il serait possible de simplifier l'écriture ci-dessus de la façon suivante :</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Les opérandes %s égaux.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">a</span> <span class="o">==</span> <span class="n">b</span> <span class="o">?</span> <span class="s">&quot;sont&quot;</span> <span class="o">:</span> <span class="s">&quot;ne sont pas&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p>Dans se cas on utilise l'opérateur ternaire <code class="docutils literal notranslate"><span class="pre">?</span> <span class="pre">:</span></code> qui permet de s'affranchir d'une structure de contrôle explicite.</p>
</div>
</div>
<div class="section" id="operateurs-arithmetiques">
<h2><span class="section-number">5.2  </span>Opérateurs arithmétiques<a class="headerlink" href="#operateurs-arithmetiques" title="Lien permanent vers ce titre">¶</a></h2>
<p id="index-10">Aux 4 opérations de base, le C ajoute l'opération <a class="reference external" href="https://fr.wikipedia.org/wiki/Modulo_(op%C3%A9ration)">modulo</a>, qui est le reste d'une division entière.</p>
<table class="docutils align-default" id="id3">
<caption><span class="caption-number">Tableau 5.2 </span><span class="caption-text">Opérateurs arithmétiques</span><a class="headerlink" href="#id3" title="Lien permanent vers ce tableau">¶</a></caption>
<colgroup>
<col style="width: 19%" />
<col style="width: 44%" />
<col style="width: 38%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Opérateur</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Assertion vraie</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">+</span></code></p></td>
<td><p>Addition</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">5</span> <span class="pre">==</span> <span class="pre">2</span> <span class="pre">+</span> <span class="pre">3</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
<td><p>Soustraction</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">8</span> <span class="pre">==</span> <span class="pre">12</span> <span class="pre">-</span> <span class="pre">4</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">*</span></code></p></td>
<td><p>Multiplication</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">42</span> <span class="pre">==</span> <span class="pre">21</span> <span class="pre">*</span> <span class="pre">2</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">/</span></code></p></td>
<td><p>Division</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">2</span> <span class="pre">==</span> <span class="pre">5</span> <span class="pre">/</span> <span class="pre">2</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">%</span></code></p></td>
<td><p>Modulo</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">13</span> <span class="pre">%</span> <span class="pre">4</span> <span class="pre">==</span> <span class="pre">1</span></code></p></td>
</tr>
</tbody>
</table>
<p>Attention néanmoins aux types des variables impliquées. La division <code class="docutils literal notranslate"><span class="pre">5</span> <span class="pre">/</span> <span class="pre">2</span></code> donnera <code class="docutils literal notranslate"><span class="pre">2</span></code> et non <code class="docutils literal notranslate"><span class="pre">2.5</span></code> car les deux valeurs fournies sont entières.</p>
<p>Le modulo est le reste de la division entière. L'assertion suivante est donc vraie : <code class="docutils literal notranslate"><span class="pre">13</span> <span class="pre">%</span> <span class="pre">4</span> <span class="pre">==</span> <span class="pre">1</span></code>, car 13 divisé par 4 égal 3 et il reste 1.</p>
<p>Il est important de noter que les opérateurs arithmétiques sont tributaires des types sur lesquels ils s'appliquent. Par exemple, l'addition de deux entiers 8 bits <code class="docutils literal notranslate"><span class="pre">120</span> <span class="pre">+</span> <span class="pre">120</span></code> ne fera pas <code class="docutils literal notranslate"><span class="pre">240</span></code> car le type ne permet pas de stocker des valeurs plus grandes que <code class="docutils literal notranslate"><span class="pre">127</span></code> :</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">int8_t</span> <span class="n">too_small</span> <span class="o">=</span> <span class="mi">120</span> <span class="o">+</span> <span class="mi">120</span><span class="p">;</span>
<span class="n">assert</span><span class="p">(</span><span class="n">too_small</span> <span class="o">!=</span> <span class="mi">120</span> <span class="o">+</span> <span class="mi">120</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="operateurs-bit-a-bit">
<h2><span class="section-number">5.3  </span>Opérateurs bit à bit<a class="headerlink" href="#operateurs-bit-a-bit" title="Lien permanent vers ce titre">¶</a></h2>
<p>Les opérations binaires agissent directement sur les bits d'une entrée, ils ont été vu en détail au chapitre sur la numération et ils sont listés sur la table <a class="reference internal" href="numeration.html#bitwise-operators"><span class="std std-numref">Tableau 4.2</span></a>.</p>
</div>
<div class="section" id="operateurs-d-affectation">
<h2><span class="section-number">5.4  </span>Opérateurs d'affectation<a class="headerlink" href="#operateurs-d-affectation" title="Lien permanent vers ce titre">¶</a></h2>
<p id="index-11">Les opérateurs d'affectation permettent d'assigner de nouvelles valeurs à une variable. En C il existe des sucres syntaxiques permettant de simplifier l'écriture lorsqu'une affectation est couplée à un autre opérateur.</p>
<table class="docutils align-default" id="id4">
<caption><span class="caption-number">Tableau 5.3 </span><span class="caption-text">Opérateurs d'affectation</span><a class="headerlink" href="#id4" title="Lien permanent vers ce tableau">¶</a></caption>
<colgroup>
<col style="width: 14%" />
<col style="width: 48%" />
<col style="width: 17%" />
<col style="width: 22%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Opérateur</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Exemple</p></th>
<th class="head"><p>Équivalence</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">=</span></code></p></td>
<td><p>Affectation simple</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">y</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">y</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">+=</span></code></p></td>
<td><p>Affectation par addition</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">+=</span> <span class="pre">y</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">x</span> <span class="pre">+</span> <span class="pre">y</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">-=</span></code></p></td>
<td><p>Affectation par soustraction</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">-=</span> <span class="pre">y</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">x</span> <span class="pre">-</span> <span class="pre">y</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">*=</span></code></p></td>
<td><p>Affectation par multiplication</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">*=</span> <span class="pre">y</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">x</span> <span class="pre">*</span> <span class="pre">y</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">/=</span></code></p></td>
<td><p>Affectation par division</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">/=</span> <span class="pre">y</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">x</span> <span class="pre">/</span> <span class="pre">y</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">%=</span></code></p></td>
<td><p>Affectation par modulo</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">%=</span> <span class="pre">y</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">x</span> <span class="pre">%</span> <span class="pre">y</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">&amp;=</span></code></p></td>
<td><p>Affectation par conjonction</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">&amp;=</span> <span class="pre">y</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">x</span> <span class="pre">&amp;</span> <span class="pre">y</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">|=</span></code></p></td>
<td><p>Affectation par disjonction</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">|=</span> <span class="pre">y</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">x</span> <span class="pre">|</span> <span class="pre">y</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">^=</span></code></p></td>
<td><p>Affectation par XOR</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">^=</span> <span class="pre">y</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">x</span> <span class="pre">^</span> <span class="pre">y</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">&lt;&lt;=</span></code></p></td>
<td><p>Affectation par décalage gauche</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">&lt;&lt;=</span> <span class="pre">y</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">x</span> <span class="pre">&lt;&lt;</span> <span class="pre">y</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">&gt;&gt;=</span></code></p></td>
<td><p>Affectation par décalage droite</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">&gt;&gt;=</span> <span class="pre">y</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">x</span> <span class="pre">&gt;&gt;</span> <span class="pre">y</span></code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="operateurs-logiques">
<h2><span class="section-number">5.5  </span>Opérateurs logiques<a class="headerlink" href="#operateurs-logiques" title="Lien permanent vers ce titre">¶</a></h2>
<p>Les opérateurs logiques sont au nombre de deux et ne doivent pas être confondus avec leur petits frères <code class="docutils literal notranslate"><span class="pre">&amp;</span></code> et <code class="docutils literal notranslate"><span class="pre">|</span></code>.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&amp;&amp;</span></code> <span class="target" id="index-12"></span>ET logique</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">||</span></code> <span class="target" id="index-13"></span>OU logique</p></li>
</ul>
<p>Le résultat d'une opération logique est toujours un <span class="target" id="index-14"></span>booléen (valeur 0 ou 1). Ainsi l'expression suivante affecte <code class="docutils literal notranslate"><span class="pre">1</span></code> à <code class="docutils literal notranslate"><span class="pre">x</span></code> : <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">12</span> <span class="pre">&amp;&amp;</span> <span class="pre">3</span> <span class="pre">+</span> <span class="pre">2</span></code>.</p>
</div>
<div class="section" id="operateurs-d-incrementation">
<h2><span class="section-number">5.6  </span>Opérateurs d'incrémentation<a class="headerlink" href="#operateurs-d-incrementation" title="Lien permanent vers ce titre">¶</a></h2>
<p>Les opérateurs d'incrémentation sont régulièrement un motif d'arrachage de cheveux pour les étudiants. En effet, ces opérateurs sont très particuliers à ce sens qu'il se décomposent en deux étapes : l'affectation et l'obtention du résultat. Il existe 4 opérateurs d'incrémentation :</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">()++</span></code> Post-incrémentation</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">++()</span></code> Pré-incrémentation</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">()--</span></code> Post-décrémentation</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--()</span></code> Pré-décrémentation</p></li>
</ul>
<p>La pré-incrémentation ou pré-décrémentation effectue en premier la modification de la variable impliquée puis retourne le résultat de cette variable modifiée. Dans le cas de la post-incrémentation ou pré-décrémentation, la valeur actuelle de la variable est d'abord retournée, puis dans un second temps cette variable est incrémentée.</p>
<p>Notons qu'on peut toujours décomposer ces opérateurs en deux instructions explicites. Le code :</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">y</span> <span class="o">=</span> <span class="n">x</span><span class="o">++</span><span class="p">;</span>
</pre></div>
</div>
<p>est équivalent à :</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">y</span> <span class="o">=</span> <span class="n">x</span><span class="p">;</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
</pre></div>
</div>
<p>De même :</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">y</span> <span class="o">=</span> <span class="o">++</span><span class="n">x</span><span class="p">;</span>
</pre></div>
</div>
<p>est équivalent à :</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">x</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="section" id="operateur-ternaire">
<h2><span class="section-number">5.7  </span>Opérateur ternaire<a class="headerlink" href="#operateur-ternaire" title="Lien permanent vers ce titre">¶</a></h2>
<p id="index-15">L'opérateur ternaire aussi appelé <span class="target" id="index-16"></span>opérateur conditionnel permet de faire un test et de retourner soit le second opérande, soit le troisième opérande. C'est le seul opérateur du C avec une <span class="target" id="index-17"></span>arité de 3. Chacun des opérandes est symbolisé avec une paire de parenthèses :</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="p">()</span><span class="o">?</span><span class="p">()</span><span class="o">:</span><span class="p">()</span>
</pre></div>
</div>
<p>Cet opérateur permet sur une seule ligne d'évaluer une expression et de renvoyer une valeur ou une autre selon que l'expression est vraie ou fausse. <strong>valeur = (condition ? valeur si condition vraie : valeur si condition fausse);</strong></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Seule la valeur utilisée pour le résultat est évaluée. Par exemple, dans le code <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">&gt;</span> <span class="pre">y</span> <span class="pre">?</span> <span class="pre">++y</span> <span class="pre">:</span> <span class="pre">++x</span></code>, seulement <code class="docutils literal notranslate"><span class="pre">x</span></code> ou <code class="docutils literal notranslate"><span class="pre">y</span></code> sera incrémenté.</p>
</div>
<p>On utilise volontiers cet opérateur lorsque dans les deux cas d'un embranchement, la même valeur est modifiée :</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="n">a</span> <span class="o">&gt;</span> <span class="n">b</span><span class="p">)</span>
    <span class="n">max</span> <span class="o">=</span> <span class="n">a</span><span class="p">;</span>
<span class="k">else</span>
    <span class="n">min</span> <span class="o">=</span> <span class="n">b</span><span class="p">;</span>
</pre></div>
</div>
<p>On remarque dans cet exemple une répétition <code class="docutils literal notranslate"><span class="pre">max</span> <span class="pre">=</span></code>. Une façon plus élégante et permettant de réduire l'écriture est d'utiliser l'opérateur ternaire :</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">max</span> <span class="o">=</span> <span class="n">a</span> <span class="o">&gt;</span> <span class="n">b</span> <span class="o">?</span> <span class="nl">a</span> <span class="p">:</span> <span class="n">b</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="section" id="operateur-de-transtypage">
<h2><span class="section-number">5.8  </span>Opérateur de transtypage<a class="headerlink" href="#operateur-de-transtypage" title="Lien permanent vers ce titre">¶</a></h2>
<p id="index-18">Le <span class="target" id="index-19"></span>transtypage ou <em>cast</em> permet de modifier explicitement le type apparent d'une variable. C'est un opérateur particulier car son premier opérande doit être un <strong>type</strong> et le second une <strong>valeur</strong>.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">type</span><span class="p">)(</span><span class="n">valeur</span><span class="p">)</span>
</pre></div>
</div>
<p>Dans l'exemple suivant, le résultat de la division est un entier car la promotion implicite de type reste un entier <code class="docutils literal notranslate"><span class="pre">int</span></code>. La valeur <code class="docutils literal notranslate"><span class="pre">c</span></code> vaudra donc le résultat de la division entière alors que dans le second cas, <code class="docutils literal notranslate"><span class="pre">b</span></code> est <em>casté</em> en un <code class="docutils literal notranslate"><span class="pre">double</span></code> ce qui force une division en virgule flottante.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
<span class="kt">double</span> <span class="n">c</span> <span class="o">=</span> <span class="n">a</span> <span class="o">/</span> <span class="n">b</span><span class="p">;</span>
<span class="kt">double</span> <span class="n">d</span> <span class="o">=</span> <span class="n">a</span> <span class="o">/</span> <span class="p">(</span><span class="kt">double</span><span class="p">)(</span><span class="n">b</span><span class="p">);</span>
<span class="n">assert</span><span class="p">(</span><span class="n">c</span> <span class="o">==</span> <span class="mf">2.0</span> <span class="o">&amp;&amp;</span> <span class="n">d</span> <span class="o">==</span> <span class="mf">2.5</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="operateur-sequentiel">
<h2><span class="section-number">5.9  </span>Opérateur séquentiel<a class="headerlink" href="#operateur-sequentiel" title="Lien permanent vers ce titre">¶</a></h2>
<p>L'opérateur séquentiel (<em>comma operator</em>) permet l'exécution ordonnée d'opérations, et retourne la dernière valeur. Son utilisation est couramment limitée soit aux déclarations de variables, soit au boucles <code class="docutils literal notranslate"><span class="pre">for</span></code>:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="p">(</span><span class="kt">size_t</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span> <span class="n">i</span> <span class="o">!=</span> <span class="n">j</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">,</span> <span class="n">j</span><span class="o">--</span><span class="p">)</span> <span class="p">{</span> <span class="cm">/* ... */</span> <span class="p">}</span>
</pre></div>
</div>
<p>Dans le cas ci-dessus, il n'est pas possible de séparer les instructions <code class="docutils literal notranslate"><span class="pre">i++</span></code> et <code class="docutils literal notranslate"><span class="pre">j--</span></code> par un point virgule, l'opérateur virgule permet alors de combiner plusieurs instructions en une seule.</p>
<p>Une particularité de cet opérateur est que seule la dernière valeur est retournée :</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">assert</span><span class="p">(</span><span class="mi">3</span> <span class="o">==</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
</pre></div>
</div>
<p>L'opérateur agit également comme un <a class="reference internal" href="advanced-topics.html#sequence-point"><span class="std std-ref">Point de séquence</span></a>, c'est-à-dire que l'ordre des étapes est respecté.</p>
<div>
<p class="rubric">Exercice 5.1<a class="headerlink" href="#exercise-0" title="Permalink to this rubric">¶</a></p>
<p>Que sera-t-il affiché à l'écran ?</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d&quot;</span><span class="p">,</span> <span class="p">(</span><span class="o">++</span><span class="n">i</span><span class="p">,</span> <span class="n">i</span><span class="o">++</span><span class="p">,</span> <span class="o">++</span><span class="n">i</span><span class="p">));</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="operateur-sizeof">
<h2><span class="section-number">5.10  </span>Opérateur sizeof<a class="headerlink" href="#operateur-sizeof" title="Lien permanent vers ce titre">¶</a></h2>
<p id="index-20">Cet opérateur est <em>unaire</em> et retourne la taille en <strong>byte</strong> de la variable ou du type passé en argument. Il n'existe pas de symbole particulier et son usage est très similaire à l'appel d'une fonction :</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">int32_t</span> <span class="n">foo</span> <span class="o">=</span> <span class="mi">42</span><span class="p">;</span>
<span class="n">assert</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="n">foo</span><span class="p">)</span> <span class="o">==</span> <span class="mi">4</span><span class="p">);</span>
<span class="n">assert</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="kt">int64_t</span><span class="p">)</span> <span class="o">==</span> <span class="mi">64</span> <span class="o">/</span> <span class="mi">8</span><span class="p">);</span>
</pre></div>
</div>
<p>L'opérateur <code class="docutils literal notranslate"><span class="pre">sizeof</span></code> est très utile durant le débogage pour connaître la taille en mémoire d'une variable ou celle d'un type. On l'utilise en pratique pour connaître la taille d'un tableau lors d'une boucle itérative :</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">int32_t</span> <span class="n">array</span><span class="p">[</span><span class="mi">128</span><span class="p">];</span>
<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">array</span><span class="p">)</span> <span class="o">/</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">array</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
   <span class="n">array</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">i</span> <span class="o">*</span> <span class="mi">10</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Dans l'exemple ci-dessus, <code class="docutils literal notranslate"><span class="pre">sizeof(array)</span></code> retourne la taille de l'espace mémoire occupé par le tableau <code class="docutils literal notranslate"><span class="pre">array</span></code>, soit <span class="math notranslate nohighlight">\(128 \cdot 4\)</span> bytes. Pour obtenir le nombre d'éléments dans le tableau, il faut alors diviser ce résultat par la taille effective de chaque élément du tableau. L'élément <code class="docutils literal notranslate"><span class="pre">array[0]</span></code> est donc un <code class="docutils literal notranslate"><span class="pre">int32_t</span></code> et sa taille vaut donc 4 bytes.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Dans l'exemple ci-dessus, il est possible de s'affranchir de la taille effective du tableau en utilisant une sentinelle. Si le dernier élément du tableau à une valeur particulière et que le reste est initialisé à zéro, il suffit de parcourir le tableau jusqu'à cette valeur :</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">int32_t</span> <span class="n">array</span><span class="p">[</span><span class="mi">128</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span> <span class="p">[</span><span class="mi">127</span><span class="p">]</span><span class="o">=</span><span class="mi">-1</span> <span class="p">};</span>
<span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="k">while</span> <span class="p">(</span><span class="n">array</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">!=</span> <span class="mi">-1</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">array</span><span class="p">[</span><span class="n">i</span><span class="o">++</span><span class="p">]</span> <span class="o">=</span> <span class="n">i</span> <span class="o">*</span> <span class="mi">10</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Cette écriture reste malgré tout très mauvaise car le tableau de 128 éléments doit être initialisé à priori ce qui mène aux mêmes performances. D'autre part l'histoire racontée par le développeur est moins claire que la première implémentation.</p>
</div>
</div>
<div class="section" id="priorite-des-operateurs">
<span id="precedence"></span><h2><span class="section-number">5.11  </span>Priorité des opérateurs<a class="headerlink" href="#priorite-des-operateurs" title="Lien permanent vers ce titre">¶</a></h2>
<span class="target" id="index-21"></span><p id="index-22">La <strong>précédence</strong> est un anglicisme de <em>precedence</em> (priorité) qui concerne la priorité des opérateurs, ou l'ordre dans lequel les opérateurs sont exécutés. Chacun connaît la priorité des quatre opérateurs de base (<code class="docutils literal notranslate"><span class="pre">+</span></code>, <code class="docutils literal notranslate"><span class="pre">-</span></code>, <code class="docutils literal notranslate"><span class="pre">*</span></code>, <code class="docutils literal notranslate"><span class="pre">/</span></code>), mais le C et ses nombreux opérateurs sont bien plus complexes.</p>
<p>La table suivante indique les règles à suivre pour les précédences des opérateurs en C.
La précédence</p>
<table class="docutils align-default" id="id5">
<caption><span class="caption-number">Tableau 5.4 </span><span class="caption-text">Priorité des opérateurs</span><a class="headerlink" href="#id5" title="Lien permanent vers ce tableau">¶</a></caption>
<colgroup>
<col style="width: 11%" />
<col style="width: 24%" />
<col style="width: 47%" />
<col style="width: 18%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Priorité</p></th>
<th class="head"><p>Opérateur</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Associativité</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td rowspan="5"><p>1</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">++</span></code>, <code class="docutils literal notranslate"><span class="pre">--</span></code></p></td>
<td><p>Postfix incréments/décréments</p></td>
<td rowspan="5"><p>Gauche à Droite</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">()</span></code></p></td>
<td><p>Appel de fonction</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">[]</span></code></p></td>
<td><p>Indexage des tableaux</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">.</span></code></p></td>
<td><p>Élément d'une structure</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">-&gt;</span></code></p></td>
<td><p>Élément d'une structure</p></td>
</tr>
<tr class="row-odd"><td rowspan="7"><p>2</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">++</span></code>, <code class="docutils literal notranslate"><span class="pre">--</span></code></p></td>
<td><p>Préfixe incréments/décréments</p></td>
<td rowspan="7"><p>Droite à Gauche</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">+</span></code>, <code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
<td><p>Signe</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">!</span></code>, <code class="docutils literal notranslate"><span class="pre">~</span></code></p></td>
<td><p>NON logique et NON binaire</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">(type)</span></code></p></td>
<td><p>Cast (Transtypage)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">*</span></code></p></td>
<td><p>Indirection, déréférencement</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">&amp;</span></code></p></td>
<td><p>Adresse de...</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">sizeof</span></code></p></td>
<td><p>Taille de...</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">*</span></code>, <code class="docutils literal notranslate"><span class="pre">/</span></code>, <code class="docutils literal notranslate"><span class="pre">%</span></code></p></td>
<td><p>Multiplication, Division, Mod</p></td>
<td rowspan="11"><p>Gauche à Droite</p></td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">+</span></code>, <code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
<td><p>Addition, soustraction</p></td>
</tr>
<tr class="row-even"><td><p>5</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">&lt;&lt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&gt;&gt;</span></code></p></td>
<td><p>Décalages binaires</p></td>
</tr>
<tr class="row-odd"><td rowspan="2"><p>6</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">&lt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;=</span></code></p></td>
<td><p>Comparaison plus petit que</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&gt;=</span></code></p></td>
<td><p>Comparaison plus grand que</p></td>
</tr>
<tr class="row-odd"><td><p>7</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">==</span></code>, <code class="docutils literal notranslate"><span class="pre">!=</span></code></p></td>
<td><p>Égalité, non égalité</p></td>
</tr>
<tr class="row-even"><td><p>8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">&amp;</span></code></p></td>
<td><p>ET binaire</p></td>
</tr>
<tr class="row-odd"><td><p>9</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">^</span></code></p></td>
<td><p>OU exclusif binaire</p></td>
</tr>
<tr class="row-even"><td><p>10</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">|</span></code></p></td>
<td><p>OU inclusif binaire</p></td>
</tr>
<tr class="row-odd"><td><p>11</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">&amp;&amp;</span></code></p></td>
<td><p>ET logique</p></td>
</tr>
<tr class="row-even"><td><p>12</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">||</span></code></p></td>
<td><p>OU logique</p></td>
</tr>
<tr class="row-odd"><td><p>13</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">?:</span></code></p></td>
<td><p>Opérateur ternaire</p></td>
<td rowspan="5"><p>Droite à Gauche</p></td>
</tr>
<tr class="row-even"><td rowspan="4"><p>14</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">=</span></code></p></td>
<td><p>Assignation simple</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">+=</span></code>, <code class="docutils literal notranslate"><span class="pre">-=</span></code></p></td>
<td><p>Assignation par somme/diff</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">*=</span></code>, <code class="docutils literal notranslate"><span class="pre">/=</span></code>, <code class="docutils literal notranslate"><span class="pre">%=</span></code></p></td>
<td><p>Assignation par produit/quotient/modulo</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">&lt;&lt;=</span></code>, <code class="docutils literal notranslate"><span class="pre">&gt;&gt;=</span></code></p></td>
<td><p>Assignation par décalage binaire</p></td>
</tr>
<tr class="row-even"><td><p>15</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">,</span></code></p></td>
<td><p>Virgule</p></td>
<td><p>Gauche à Droite</p></td>
</tr>
</tbody>
</table>
<p>Considérons l'exemple suivant :</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span> <span class="n">i</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">};</span>
<span class="kt">int</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>

<span class="n">x</span> <span class="o">=</span> <span class="mi">5</span> <span class="o">+</span> <span class="mi">23</span> <span class="o">+</span> <span class="mi">34</span> <span class="o">/</span> <span class="o">++</span><span class="n">i</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&amp;</span> <span class="mh">0xFF</span> <span class="o">&lt;&lt;</span> <span class="n">y</span><span class="p">;</span>
</pre></div>
</div>
<p>Selon la précédence de chaque opérateur ainsi que son associativité on a :</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>[]  1
++  2
/   3
+   4
+   4
&lt;&lt;  5
&amp;   8
=   14
</pre></div>
</div>
<p>L'écriture en notation polonaise inversée donnerait alors</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>34, i, 0, [], ++,  /, 5, 23, +, +, 0xFF, y, &lt;&lt;, &amp;, x, =
</pre></div>
</div>
<div class="section" id="associativite">
<h3><span class="section-number">5.11.1  </span>Associativité<a class="headerlink" href="#associativite" title="Lien permanent vers ce titre">¶</a></h3>
<p id="index-23">L'associativité des opérateurs (<a class="reference external" href="https://en.wikipedia.org/wiki/Operator_associativity">operator associativity</a>) décrit la manière dont sont évaluées les expressions.</p>
<p>Une associativité à gauche pour l'opérateur <code class="docutils literal notranslate"><span class="pre">~</span></code> signifie que l'expression <code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">~</span> <span class="pre">b</span> <span class="pre">~</span> <span class="pre">c</span></code> sera évaluée <code class="docutils literal notranslate"><span class="pre">((a)</span> <span class="pre">~</span> <span class="pre">b)</span> <span class="pre">~</span> <span class="pre">c</span></code> alors qu'une associativité à droite sera <code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">~</span> <span class="pre">(b</span> <span class="pre">~</span> <span class="pre">(c))</span></code>.</p>
<p>Note qu'il ne faut pas confondre l'associativité <em>évaluée de gauche à droite</em> qui est une associativité à <em>gauche</em>.</p>
</div>
<div class="section" id="representation-memoire-des-types-de-donnees">
<h3><span class="section-number">5.11.2  </span>Représentation mémoire des types de données<a class="headerlink" href="#representation-memoire-des-types-de-donnees" title="Lien permanent vers ce titre">¶</a></h3>
<p>Nous avons vu au chapitre sur les types de données que les types C
définis par défaut sont représentés en mémoire sur 1, 2, 4 ou 8 octets.
On comprend aisément que plus cette taille est importante, plus on gagne
en précision ou en grandeur représentable. La promotion numérique régit
les conversions effectuées implicitement par le langage C lorsqu'on
convertit une donnée d'un type vers un autre. Cette promotion tend à
conserver le maximum de précision lorsqu'on effectue des calculs entre
types différents (ex : l'addition d'un <code class="docutils literal notranslate"><span class="pre">int</span></code> avec un <code class="docutils literal notranslate"><span class="pre">double</span></code> donne un
type <code class="docutils literal notranslate"><span class="pre">double</span></code>). Voici les règles de base :</p>
<ul class="simple">
<li><p>les opérateurs ne peuvent agir que sur des types identiques ;</p></li>
<li><p>quand les types sont différents, il y a conversion automatique vers le type ayant le plus grand pouvoir de représentation ;</p></li>
<li><p>les conversions ne sont faites qu'au fur et à mesure des besoins.</p></li>
</ul>
<p>La <strong>promotion</strong> est l'action de promouvoir un type de donnée en un autre type de donnée plus général. On parle de promotion implicite des entiers lorsqu'un type est promu en un type plus grand automatiquement par le compilateur.</p>
</div>
</div>
<div class="section" id="valeurs-gauches">
<h2><span class="section-number">5.12  </span>Valeurs gauches<a class="headerlink" href="#valeurs-gauches" title="Lien permanent vers ce titre">¶</a></h2>
<p id="index-24">Une <span class="target" id="index-25"></span>valeur gauche (<code class="docutils literal notranslate"><span class="pre">lvalue</span></code>) est une particularité de certains langages de programmation qui définissent ce qui peut se trouver à gauche d'une affectation. Ainsi dans <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">y</span></code>, <code class="docutils literal notranslate"><span class="pre">x</span></code> est une valeur gauche. Néanmoins, l'expression <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">y</span></code> est aussi une valeur gauche :</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">;</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">y</span> <span class="o">=</span> <span class="n">z</span><span class="p">;</span>    <span class="c1">// (1)</span>
<span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="n">y</span><span class="p">)</span> <span class="o">=</span> <span class="n">z</span><span class="p">;</span>  <span class="c1">// (2)</span>
</pre></div>
</div>
<ol class="arabic">
<li><p>L'associativité de <code class="docutils literal notranslate"><span class="pre">=</span></code> est à droite donc cette expression est équivalente à <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">(y</span> <span class="pre">=</span> <span class="pre">(z))</span></code> qui évite toute ambiguïté.</p></li>
<li><p>En forçant l'associativité à gauche, on essaie d'assigner <code class="docutils literal notranslate"><span class="pre">z</span></code> à une <em>lvalue</em> et le compilateur s'en plaint :</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>4:8: error: lvalue required as left operand of assignment
  (x = y) = z;
          ^
</pre></div>
</div>
</li>
</ol>
<p>Voici quelques exemples de valeurs gauches :</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">/=</span> <span class="pre">y</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">++x</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">(x</span> <span class="pre">?</span> <span class="pre">y</span> <span class="pre">:</span> <span class="pre">z)</span></code></p></li>
</ul>
</div>
<div class="section" id="optimisation">
<h2><span class="section-number">5.13  </span>Optimisation<a class="headerlink" href="#optimisation" title="Lien permanent vers ce titre">¶</a></h2>
<p id="index-26">Le compilateur est en règle général plus malin que le développeur. L'optimiseur de code (lorsque compilé avec <code class="docutils literal notranslate"><span class="pre">-O2</span></code> sous <code class="docutils literal notranslate"><span class="pre">gcc</span></code>), va regrouper certaines instructions, modifier l'ordre de certaines déclarations pour réduire soit l'empreinte mémoire du code, soit accélérer son exécution.</p>
<p>Ainsi l'expression suivante, ne sera pas calculée à l'exécution, mais à la compilation :</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span> <span class="n">num</span> <span class="o">=</span> <span class="p">(</span><span class="mi">4</span> <span class="o">+</span> <span class="mi">7</span> <span class="o">*</span> <span class="mi">10</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="mi">2</span><span class="p">;</span>
</pre></div>
</div>
<p>De même que ce test n'effectuera pas une division, mais testera simplement le dernier bit de <code class="docutils literal notranslate"><span class="pre">a</span></code>:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="n">a</span> <span class="o">%</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">puts</span><span class="p">(</span><span class="s">&quot;Pair&quot;</span><span class="p">);</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="n">puts</span><span class="p">(</span><span class="s">&quot;Impair&quot;</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<hr class="docutils" />
<div>
<p class="rubric">Exercice 5.2<a class="headerlink" href="#exercise-1" title="Permalink to this rubric">¶</a></p>
<p>Soit les déclarations suivantes :</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">char</span> <span class="n">m</span><span class="p">,</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="n">d</span> <span class="o">=</span> <span class="mh">0x55</span><span class="p">,</span> <span class="n">e</span> <span class="o">=</span> <span class="mh">0xAA</span><span class="p">;</span>
</pre></div>
</div>
<p>Représenter en binaire et en hexadécimal la valeur de tous les bits de la variable <code class="docutils literal notranslate"><span class="pre">m</span></code> après exécution de chacune des instructions suivantes :</p>
<ol class="arabic simple">
<li><p><code class="code docutils literal notranslate"><span class="pre">m</span> <span class="pre">=</span> <span class="pre">1</span> <span class="pre">&lt;&lt;</span> <span class="pre">n;</span></code></p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">m</span> <span class="pre">=</span> <span class="pre">~1</span> <span class="pre">&lt;&lt;</span> <span class="pre">n;</span></code></p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">m</span> <span class="pre">=</span> <span class="pre">~(1</span> <span class="pre">&lt;&lt;</span> <span class="pre">n);</span></code></p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">m</span> <span class="pre">=</span> <span class="pre">d</span> <span class="pre">|</span> <span class="pre">(1</span> <span class="pre">&lt;&lt;</span> <span class="pre">n);</span></code></p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">m</span> <span class="pre">=</span> <span class="pre">e</span> <span class="pre">|</span> <span class="pre">(1</span> <span class="pre">&lt;&lt;</span> <span class="pre">n);</span></code></p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">m</span> <span class="pre">=</span> <span class="pre">d</span> <span class="pre">^</span> <span class="pre">(1</span> <span class="pre">&lt;&lt;</span> <span class="pre">n);</span></code></p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">m</span> <span class="pre">=</span> <span class="pre">e</span> <span class="pre">^</span> <span class="pre">(1</span> <span class="pre">&lt;&lt;</span> <span class="pre">n);</span></code></p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">m</span> <span class="pre">=</span> <span class="pre">d</span> <span class="pre">&amp;</span> <span class="pre">~(1</span> <span class="pre">&lt;&lt;</span> <span class="pre">n);</span></code></p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">m</span> <span class="pre">=</span> <span class="pre">e</span> <span class="pre">&amp;</span> <span class="pre">~(1</span> <span class="pre">&lt;&lt;</span> <span class="pre">n);</span></code></p></li>
</ol>
</div>
<div>
<p class="rubric">Exercice 5.3<a class="headerlink" href="#exercise-2" title="Permalink to this rubric">¶</a></p>
<p>Pour programmer les registres 16-bits d'un composant électronique chargé de gérer des sorties tout ou rien, on doit être capable d'effectuer les opérations suivantes :</p>
<ul class="simple">
<li><p>mettre à 1 le bit numéro <code class="docutils literal notranslate"><span class="pre">n</span></code>, <code class="docutils literal notranslate"><span class="pre">n</span></code> étant un entier entre 0 et 15;</p></li>
<li><p>mettre à 0 le bit numéro <code class="docutils literal notranslate"><span class="pre">n</span></code>, <code class="docutils literal notranslate"><span class="pre">n</span></code> étant un entier entre 0 et 15;</p></li>
<li><p>inverser le bit numéro <code class="docutils literal notranslate"><span class="pre">n</span></code>, <code class="docutils literal notranslate"><span class="pre">n</span></code> étant un entier entre 0 et 15;</p></li>
</ul>
<p>Pour des questions d'efficacité, ces opérations ne doivent utiliser que les opérateurs bit à bit ou décalage. On appelle <code class="docutils literal notranslate"><span class="pre">r0</span></code> la variable désignant le registre en mémoire et <code class="docutils literal notranslate"><span class="pre">n</span></code> la variable contenant le numéro du bit à modifier. Écrivez les expressions permettant d'effectuer les opérations demandées.</p>
</div>
<div>
<p class="rubric">Exercice 5.4<a class="headerlink" href="#exercise-3" title="Permalink to this rubric">¶</a></p>
<p>Considérant les déclarations suivantes :</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">float</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">m</span><span class="p">,</span> <span class="n">n</span><span class="p">;</span>
</pre></div>
</div>
<p>Traduire en C les expressions mathématiques ci-dessous; pour chacune, proposer plusieurs écritures différentes lorsque c'est possible. Le symbole <span class="math notranslate nohighlight">\(\leftarrow\)</span> signifie <em>assignation</em></p>
<ol class="arabic simple">
<li><p><span class="math notranslate nohighlight">\(n \leftarrow 8 \cdot n\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(a \leftarrow a + 2\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(n \leftarrow \left\{\begin{array}{lr}m &amp; : m &gt; 0\\ 0 &amp; : \text{sinon}\end{array}\right.\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(a \leftarrow n\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(n \leftarrow \left\{\begin{array}{lr}0 &amp; : m~\text{pair}\\ 1 &amp; : m~\text{impair}\end{array}\right.\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(n \leftarrow \left\{\begin{array}{lr}1 &amp; : m~\text{pair}\\ 0 &amp; : m~\text{impair}\end{array}\right.\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(m \leftarrow 2\cdot m + 2\cdot n\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(n \leftarrow n + 1\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(a \leftarrow \left\{\begin{array}{lr}-a &amp; : b &lt; 0\\ a &amp; : \text{sinon}\end{array}\right.\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(n \leftarrow \text{la valeur des 4 bits de poids faible de}~n\)</span></p></li>
</ol>
</div>
<div>
<p class="rubric">Exercice 5.5<a class="headerlink" href="#exercise-4" title="Permalink to this rubric">¶</a></p>
<p>Un nombre narcissique ou <a class="reference external" href="https://fr.wikipedia.org/wiki/Nombre_narcissique">nombre d'Amstrong</a> est  un entier naturel <code class="docutils literal notranslate"><span class="pre">n</span></code> non nul qui est égal à la somme des puissances <code class="docutils literal notranslate"><span class="pre">p</span></code>-ièmes de ses chiffres en base dix, où <code class="docutils literal notranslate"><span class="pre">p</span></code> désigne le nombre de chiffres de <code class="docutils literal notranslate"><span class="pre">n</span></code>:</p>
<div class="math notranslate nohighlight">
\[n=\sum_{k=0}^{p-1}x_k10^k=\sum_{k=0}^{p-1}(x_k)^p\quad\text{avec}\quad x_k\in\{0,\ldots,9\}\quad\text{et}\quad x_{p-1}\ne 0\]</div>
<p>Par exemple :</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">9</span></code> est un nombre narcissique, car <span class="math notranslate nohighlight">\(9 = 9^1 = 9\)</span></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">153</span></code> est un nombre narcissique, car <span class="math notranslate nohighlight">\(153 = 1^3 + 5^3 + 3^3 = 1 + 125 + 27 = 153\)</span></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">10</span></code> n'est pas un nombre narcissique, car <span class="math notranslate nohighlight">\(10 \ne 1^2 + 0^2 = 1\)</span></p></li>
</ul>
<p>Implanter un programme permettant de vérifier si un nombre d'entrées est narcissique ou non. L'exécution est la suivante :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ./armstrong 153
1

$ ./armstrong 154
0
</pre></div>
</div>
</div>
</div>
</div>


          </div>
          <div class="page-nav">
            <div class="inner"><ul class="page-nav">
  <li class="prev">
    <a href="numeration.html"
       title="Chapitre précédent">← <span class="section-number">4  </span>Numération</a>
  </li>
  <li class="next">
    <a href="datatype.html"
       title="Chapitre suivant"><span class="section-number">6  </span>Types de données →</a>
  </li>
</ul><div class="footer" role="contentinfo">
      &#169; Copyright HEIG-VD(c) 2021.
    Mis à jour le 30 juin 2021 (version v0.3.0-23-g6f7bff5).
    <br>
    Created using <a href="http://sphinx-doc.org/">Sphinx</a> 3.2.1 with <a href="https://github.com/heig-vd-tin/sphinx_heigvd_theme">HEIG-VD Theme</a>.
</div>
            </div>
          </div>
      </page>
    </div>
    
    
  </body>
</html>